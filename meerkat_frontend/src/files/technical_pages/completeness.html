<div class="top-bar row">
	<div class="tab-title hidden-xs col-sm-5 col-md-6">
		Completeness
	</div>
	<div id="epi-week-title" class="col-xs-12 col-sm-4 col-md-3 pull-right box ">
		Date not loaded.
	</div>

</div>

<div class="demographics toggled" id="wrapper">

	<div id="page-content-wrapper">
		<div class="row">
			<div class="col-xs-12 less-padding-col">
				<div class="chart box">
					<div class="chart__heading">
						<span class="glossary capitalised" word="region" >Region</span>s
					</div>
					<div class="chart__content">
						<div id="completeness-agg-table" class="table">
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="row">
			<div class="col-xs-12 less-padding-col">
				<div class="chart box">
					<div class="chart__heading">
						Clinics
					</div>
					<div class="chart__content">
						<div id="completeness-table" class="table">
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<div class="breaker"></div>

<!-- Menu Toggle Script -->
<script>

$("#epi-week-title").html( "Week "+get_epi_week() + " Â· " + get_date() );

//Every tab needs a draw charts function that is called when loading a new location.
function drawCharts( locID ){
	drawCompletenessTables( 1 );
}

function drawCompletenessTables( regionID ){
	//TODO: Remove hardcorded variable ID from getJSON line below.
	$.getJSON( api_root+"/completeness/435/4", function( data ){
			$.getJSON( api_root+"/locations", function( locations ){	
				
				drawCompletenessAggTable( 'completeness-agg-table', data.regions, locations );
				drawCompletenessTable( 'completeness-table', data.clinics[regionID], locations );

			});
	});

}

</script>
